<nav class="navbar navbar-default top-static-bar">
  <div class="container-fluid">
    <div class="col-sm-2">
      <ul class="nav navbar-nav">
            <li><a href="/">
              الرئيسية
              <i class="glyphicon glyphicon-circle-arrow-left"></i>
            </a>
            </li>
          </ul>
    </div>
  </div><!-- /.container-fluid -->
</nav>

<div class="row new-order-form">
  <div class="col-md-2"></div>
  <div class="col-md-8 well">
    <form class="form-horizontal">
      <div class="col-md-6">
      <div class="form-group">
        <label for="item" class="col-sm-2 col-xs-2 control-label pull-left">الاسم:</label>
        <div class="col-sm-10 pull-left">
          <input type="text" class="form-control input-sm" id="item" ng-model="Order.Client.Name" placeholder="" ng-if="!isClientSelected" >
          <div class="">{{selectedClient.Name}}</div>
        </div>
      </div>
      <div class="form-group">
        <label for="address" class="col-sm-2 col-xs-2 control-label pull-left">العنوان:</label>
        <div class="col-sm-10 pull-left">
          <input type="text" class="form-control input-sm" id="address" ng-model="Order.Client.Address" placeholder=""   ng-if="!isClientSelected">
          <div class="">{{selectedClient.Address}}</div>
        </div>
      </div>
      <div class="form-group">
        <label for="tel1" class="col-sm-2 col-xs-2 control-label pull-left">الهاتف1:</label>
        <div class="col-sm-10 pull-left">
          <input type="text" class="form-control input-sm" id="tel1" ng-model="Order.Client.Tel1" placeholder=""   ng-if="!isClientSelected">
          <div class="">{{selectedClient.Tel1}}</div>
        </div>
      </div>
      <div class="form-group">
        <label for="tel2" class="col-sm-2 col-xs-2 control-label pull-left">الهاتف2:</label>
        <div class="col-sm-10 pull-left">
          <input type="text" class="form-control input-sm" id="tel2" ng-model="Order.Client.Tel2" placeholder=""   ng-if="!isClientSelected">
          <div class="">{{selectedClient.Tel2}}</div>
        </div>
      </div>
      <div class="form-group">
        <label for="fax" class="col-sm-2 col-xs-2 control-label pull-left">الفاكس:</label>
        <div class="col-sm-10 pull-left">
          <input type="text" class="form-control input-sm" id="fax" ng-model="Order.Client.Fax" placeholder=""   ng-if="!isClientSelected">
          <div class="">{{selectedClient.Fax}}</div>
        </div>
      </div>
      <div class="form-group">
        <label for="email" class="col-sm-2 col-xs-2 control-label pull-left">البريد الالكتروني:</label>
        <div class="col-sm-10 pull-left">
          <input type="email" class="form-control input-sm" id="email" ng-model="Order.Client.Email" placeholder=""   ng-if="!isClientSelected">
          <div class="">{{selectedClient.Email}}</div>
        </div>
      </div>
      </div>
      <div class="col-md-6">
        <div class="panel-group">
         <div class="panel panel-danger">
           <div class="panel-heading">
            <strong> قائمة الزبائن السابقين </strong>
         </div>
           <div class="panel-body">
             <table class="table table-striped table-condensed" ng-if="ClientList">
               <thead>
                 <th></th>
                 <th>اسم الزبون</th>
                 <th>البريد الالكتروني</th>
               </thead>
                <tbody>
                  <tr ng-repeat="client in ClientList">
                    <td><button class="btn btn-primary btn-sm" ng-click="chooseClient(client)"><span class="glyphicon glyphicon-ok"></span></button></td>
                    <td>{{client.Name}}</td>
                    <td>{{client.Email}}</td>
                  </tr>

                </tbody>
             </table>
             <div class="text-danger" ng-if="!ClientList">
               لا يوجد زبائن سابقين !
             </div>
           </div>
           <div class="panel-footer">
             <button class="btn btn-danger btn-sm btn-block"
              ng-if="isClientSelected"
              ng-click="clearClient()">
              الغاء
            </button>

           </div>
         </div>
      </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="form-group">
            <label for="price" class="col-sm-1 col-xs-2 control-label pull-left">السعر</label>
            <div class="col-sm-6 pull-left">
              <input type="number" min="0" class="form-control input-sm" id="price" ng-model="Order.TotalPrice" ng-init="Order.TotalPrice=0">
            </div>
          </div>
          <div class="form-group">
            <label for="date" class="col-sm-1 col-xs-2 control-label pull-left"> التاريخ:</label>
            <div class="col-sm-6 pull-left">
              <input type="date" class="form-control input-sm" id="date" ng-model="Order.date" placeholder=""  >
            </div>
          </div>
          <div class="form-group">
            <label for="first" class="col-sm-1 col-xs-2 control-label pull-left">عربون</label>
            <div class="col-sm-6 pull-left">
              <input type="number" min="0" max={{Order.TotalPrice}} class="form-control input-sm" id="first" ng-model="Order.Payment.Ammount">
            </div>
          </div>
          <div class="form-group">
            <label for="remain"  class="col-sm-1 col-xs-2 control-label pull-left">الباقي </label>
            <div class="col-sm-6 pull-left" id="remain">
              <h5><span  class="label label-info">{{Order.TotalPrice-Order.Payment.Ammount}}</span></h5>
            </div>
          </div>
        </div>
      </div>
    </form>
    <hr/>
    <div class="row">
      <div class="col-md-12">
        <table class="table table table-striped table-bordered table-hover table-condensed" >
          <thead>
            <tr>
              <th>العينة</th>
              <th>الكمية</th>
              <th>لون الارضية</th>
              <th>لون الطباعة</th>
              <th>معلومات اضافية</th>
              <th>الحجم</th>
              <th>بلايز</th>
              <th>الاحجام</th>
              <th>حذف</th>

            </tr>
          </thead>
          <tbody>
            <tr ng-if='Order.Items.length>0' ng-repeat="item in Order.Items track by $index">
              <td>{{item.Name}}</td>
              <td>{{item.Quantity}}</td>
              <td>{{item.GColor}}</td>
              <td>{{item.PColor}}</td>
              <td>{{item.Note}}</td>
              <td>{{item.Size}}</td>
              <td>{{item.Tshit}}</td>
              <td>
                <table ng-if="!item.Tshit" class="table table table-striped table-bordered table-hover size-table">
                  <thead>
                    <th>s</th>
                    <th>m</th>
                    <th>l</th>
                    <th>xl</th>
                    <th>xxl</th>
                    <th>xxxl</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td>{{item.s}}</td>
                      <td>{{item.m}}</td>
                      <td>{{item.l}}</td>
                      <td>{{item.xl}}</td>
                      <td>{{item.xxl}}</td>
                      <td>{{item.xxxl}}</td>
                    </tr>
                  </tbody>
                </table>
                <table class="table table table-striped table-bordered table-hover size-table">
                  <thead>
                    <th>4</th>
                    <th>6</th>
                    <th>8</th>
                    <th>10</th>
                    <th>12</th>
                    <th>14</th>
                    <th>16</th>
                    <th>18</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td>{{item['4']}}</td>
                      <td>{{item['6']}}</td>
                      <td>{{item['8']}}</td>
                      <td>{{item['10']}}</td>
                      <td>{{item['12']}}</td>
                      <td>{{item['14']}}</td>
                      <td>{{item['16']}}</td>
                      <td>{{item['18']}}</td>
                    </tr>
                  </tbody>
                </table>
              </td>
              <td>
                <button class="btn btn-danger" ng-click=deleteItem($index)>
                <i class="glyphicon glyphicon-trash"></i></button>
              </td>
            </tr>
            <tr ng-if='Order.Items.length<=0'>
              <td colspan="11">
                لم يتم اضافة عناصر
              </td>
            </tr>
            <tr>
              <td>
                <button class="btn btn-sm btn-success"
                   data-toggle="modal" data-target="#itemModal">اضف  عينة</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <button type="submit" class="btn btn-success btn-block" ng-click=saveOrder(order)>حفظ</button>
      </div>
    </div>
  </div>
  <div class="col-md-2">
  </div>
</div>


<!-- item modal -->
<div class="modal fade" id="itemModal" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">اضافة عينة</h4>
      </div>
      <div class="modal-body">

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="item">العينة</label>
              <input type="text"class="form-control input-sm" id="item" ng-model="item.Name" placeholder="">
            </div>
            <div class="form-group">
              <label for="quantity">الكمية</label>
              <input type="text"class="form-control input-sm" id="quantity" ng-model="item.Quantity" placeholder="">
            </div>
            <div class="form-group">
              <label for="bgcolor">لون الارضية</label>
              <input type="text"class="form-control input-sm" id="bgcolor" ng-model="item.GColor" placeholder="">
            </div>
            <div class="form-group" ng-if="!item.Tshit">
              <label for="bgcolor"> الحجم </label>
              <input type="text"class="form-control input-sm" id="bgcolor" ng-model="item.Size" placeholder="">
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="extra">معلومات اضافية</label>
              <textarea class="form-control text-info" rows="3"class="form-control input-sm" ng-model="item.Note" id="extra" placeholder=""></textarea>
            </div>
            <div class="form-group">
              <label for="pcolor">لون الطباعة</label>
              <input type="text"class="form-control input-sm" id="pcolor" ng-model="item.PColor" placeholder="">
            </div>
            <div class="checkbox">
            <label>
              <input class="pull-right" type="checkbox" ng-model="item.Tshit">
              <span class="check-box-span">بلايز </span>
            </label>
          </div>
          </div>
        </div>

        <div class="row" ng-show="item.Tshit">
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">S</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['s']" ng-init="item['s']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">M</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['m']" ng-init="item['m']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">L</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['l']" ng-init="item['l']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">XL</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['xl']" ng-init="item['xl']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">XXL</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['xxl']" ng-init="item['xxl']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">XXL</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['xxxl']" ng-init="item['xxxl']=0" placeholder="">
            </div>
          </div>
        </div>

        <div class="row" ng-show="item.Tshit">
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">4</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['4']" ng-init="item['4']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">6</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['6']" ng-init="item['6']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">8</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['8']" ng-init="item['8']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">10</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['10']" ng-init="item['10']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">12</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['12']" ng-init="item['12']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">14</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['14']" ng-init="item['14']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">16</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['16']" ng-init="item['16']=0" placeholder="">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="pcolor">18</label>
              <input type="number"class="form-control input-sm" id="pcolor" ng-model="item['18']" ng-init="item['18']=0" placeholder="">
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">خروج</button>
        <button type="button" class="btn btn-praimary" ng-click=addItem(item) data-dismiss="modal">اضف العينة</button>
        </div>
      </div>
    </div>

  </div>
</div>
